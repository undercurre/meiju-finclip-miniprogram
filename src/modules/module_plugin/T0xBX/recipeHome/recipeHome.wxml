<import src="../assets/template/pull_up_loading.wxml" />

<view class="container">
    <scroll-view 
        class="content"
        scroll-y="true"
        bindscrolltolower="getNewestRecipes"
        lower-threshold="100">
        <search-bar
            fakeInput="{{true}}"
            placeholder="搜一搜，开启舌尖之旅"
            bind:fakeInputClicked="onFakeInputClicked"
        />

        <view hidden="{{!list.length}}" class="recipe-cards">
            <view wx:for="{{list}}" class="recipe-card" hover-class="click-hover" wx:key="id" data-recipe="{{item}}" catchtap="onCardClicked">
                <image class="card-cover" mode="aspectFill" src="{{item.picUrl5}}"></image>
                <view class="card-bottom">
                    <view class="card-bottom-top">
                        <text class="recipe-name">{{item.name}}</text>
                        <!-- <view class="recipe-like">
                            <image class="recipe-like-icon" mode="aspectFill" src="../assets/img/heart_line_gray.png"></image>    
                        </view>   -->
                    </view>
                    <!-- <view class="recipe-label">
                        <text class="label-text"></text>
                    </view> -->
                </view>
            </view>
        </view>

        <view wx:if="{{allLoaded}}" class="no-more">
            <text class="no-more-text">我也是有底线的</text>
        </view>

        <loading wx:if="{{loading && !list.length}}" class="placeholder-loading" text="加载中..." />
        <loading style="display:{{(list.length && loading) ? 'block' : 'none'}}" class="pull-up__loading" text="加载中..." />   
    </scroll-view>
</view>