<wxs src="../vant/wxs/utils.wxs" module="utils" />

<van-overlay
  wx:if="{{ overlay }}"
  mask
  show="{{ show }}"
  z-index="{{ zIndex }}"
  custom-style="{{ overlayStyle }}"
  duration="{{ duration }}"
  bind:click="onClickOverlay"
/>
<view class="{{ utils.bem('popup', [position]) }}"
style="z-index: {{ zIndex }}; background-color:transparent;"
>
  <slot name="beyond" />
  <view wx:if="{{ inited }}"
  class="custom-class {{ classes }}"
  style="z-index: {{ zIndex }}; -webkit-transition-duration:{{ currentDuration }}ms; transition-duration:{{ currentDuration }}ms; {{ display ? '' : 'display: none;' }} {{ customStyle }}"
  bind:transitionend="onTransitionEnd"
>
  <view wx:if="{{ safeAreaInsetTop }}" class="van-popup__safe-top" style="padding-top: {{ statusBarHeight }}px;"></view>
  <slot name="content" />
  <view wx:if="{{isIPhoneX && safeAreaInsetBottom}}" class="van-popup__safe-top" style="height: {{ statusBarHeight }}px;"></view>
</view>
</view>
