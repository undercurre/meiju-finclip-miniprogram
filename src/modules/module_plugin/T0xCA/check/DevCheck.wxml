<view class="continer">
    <ca-navbar backTo="{{backTo}}" navTitle="智能自检"></ca-navbar>
    <view class="column-start-container">
      <!-- 内容 -->
      <view style="margin-top:{{statusNavBarHeight}}px;" class="column-start-container">
        <!-- 无故障 -->
        <view class="check-view column-start-container" wx:if="{{checkResult == 1}}">
          <view style="color: #FFFFFF;font-size:32rpx;font-weight:500;margin-top: 28rpx;">
            {{progressText}}
          </view>
          <view style="width:200rpx;margin-top: 10rpx;" class="row-between-container">
            <view style="width:120rpx;" class="column-center-container">
              <view style="font-size: 72rpx;color: #FFFFFF;font-weight: 500;line-height: 80rpx;margin-left: 80rpx;">{{progress}}</view>
            </view>
            <view style="font-size:32rpx;color: #FFFFFF;font-weight: 600;">%</view>
          </view>
          <view style="font-size:24rpx;color: #FFFFFF;font-weight: 400;margin-top: 16rpx;" wx:if="{{!devChecking}}">最近一次检测日期:
            <text style="margin-left: 10rpx;">{{checkTime}}</text>
          </view>

          <view style="font-size:24rpx;color: #FFFFFF;font-weight: 400;margin-top: 16rpx;" wx:if="{{devChecking}}">
             正在检测<text wx:if="{{checkProgressItem.length > 0}}">:</text> <text style="margin-left: 10rpx;">{{checkProgressItem}}</text>
          </view>

        </view>
        <!-- 有故障 -->
        <view class="check-fault-view column-start-container" wx:if="{{checkResult == 0}}">
          <view style="color: #FFFFFF;font-size:32rpx;font-weight:500;margin-top: 28rpx;">
            {{progressText}}
          </view>
          <view style="width:200rpx;margin-top: 10rpx;" class="row-between-container">
            <view style="width:120rpx;" class="column-center-container">
              <view style="font-size: 72rpx;color: #FFFFFF;font-weight: 500;line-height: 80rpx;margin-left: 80rpx;">{{progress}}</view>
            </view>
            <view style="font-size:32rpx;color: #FFFFFF;font-weight: 600;">%</view>
          </view>

          <view style="font-size:24rpx;color: #FFFFFF;font-weight: 400;margin-top: 16rpx;" wx:if="{{!devChecking}}">最近一次检测日期:
            <text style="margin-left: 10rpx;">{{checkTime}}</text>
          </view>

          <view style="font-size:24rpx;color: #FFFFFF;font-weight: 400;margin-top: 16rpx;" wx:if="{{devChecking}}">
            正在检测<text wx:if="{{checkProgressItem.length > 0}}">:</text> <text style="margin-left: 10rpx;">{{checkProgressItem}}</text>
          </view>

        </view>

        <!-- 没自检 -->
        <view class="check-view column-center-container" wx:if="{{checkResult == -1}}">
          <view style="color: #FFFFFF;font-size:32rpx;font-weight:500;margin-top: 28rpx;">
            冰箱自检测，了解冰箱运行健康状态
          </view>
        </view>

        <!-- 自检项 -->
        <view style="min-height:104rpx;width: 100vw;height: 104rpx;margin-top: 24rpx;background-color: #FFFFFF;" class="row-between-container">
          <view style="font-size:32rpx;color: #232323;font-weight: 400;margin-left: 32rpx;">自检项</view>
          <view style="font-size: 28rpx;color: #666666;font-weight: 400;margin-right:72rpx;">{{checkTotalNum}}项</view>
        </view>

        <!-- 故障信息 -->
        <view bindtap="unfoldAction" style="min-height:104rpx;width: 100vw;height: 104rpx;margin-top: 24rpx;background-color: #FFFFFF;" class="row-between-container">
          <view style="font-size:32rpx;color: #232323;font-weight: 400;margin-left: 32rpx;">故障信息</view>
          <view class="row-end-container">
            <view style="font-size: 28rpx;color: #666666;font-weight: 400;">{{faultNum}}项</view>
            <view style="height: 104rpx;width:72rpx;" class="column-center-container">
              <image mode="aspectFill" style="width:25rpx;height:25rpx;transform: rotate({{unfoldTapVal}}deg);" wx:if="{{faultNum > 0}}" src="{{iconServiceUrl}}arrow.png"></image>
            </view>
          </view>
        </view>

        <view class="column-start-container" style="width: 100vw;background-color: #FFFFFF;">
          <view style="height: 2rpx;width: 100vw;" class="row-end-container">
            <view style="background-color: #F2F2F2;width:97vw;height: 2rpx;"></view>
          </view>
          <!-- 故障列表 -->
          <view  wx:key="key" style="width: 100vw;height: 80rpx;" class="row-start-container" wx:for="{{faultList}}" wx:if="{{unfoldTap}}">
            <view style="border-radius:50%;margin-left: 46rpx;width: 45rpx;height: 45rpx;" class="column-center-container">
              <image mode="aspectFit" style="transform: rotate(180deg);width: 45rpx;height: 45rpx;" src="{{iconServiceUrl}}warning-m-color.png"></image>
            </view>
            <view style="color: #666666;font-size:32rpx;font-weight:400;margin-left:24rpx;">
              {{item.faultname}}
            </view>
          </view>

          <view style="margin-top: 30rpx;width: 100vw;margin-bottom: 30rpx;" class="row-start-container" wx:if="{{unfoldTap && faultNum > 0}}">
            <view style="font-size: 28rpx;color: #000000;font-weight: 400;margin-left:46rpx;">
            您可拨打 <text selectable='true' bindlongtap='copy' style="margin-right:4rpx;color: #267AFF;font-size:28rpx;font-weight: 400;">400-889-9315</text>进行报修
            </view>
          </view>
        </view>

        <!-- 开始自检按钮 -->
        <view wx:if="{{!devChecking && btnFixStatus == 1}}" style="padding-bottom: 48rpx;height: 88rpx;width: 100vw;margin-top: 50rpx;" class="column-center-container">
          <view bindtap="startCheckAction" style="background: #267AFF;height: 88rpx;width: 550rpx;border-radius: 44rpx;" class="column-center-container">
            <view style="font-size:32rpx;color: #FFFFFF;font-weight:500;">开始自检</view>
          </view>
        </view>
        <view wx:if="{{devChecking && btnFixStatus == 1}}" style="padding-bottom: 48rpx;height: 88rpx;width: 100vw;margin-top: 50rpx;" class="column-center-container">
          <view style="background: #267AFF;height: 88rpx;width: 550rpx;border-radius: 44rpx;opacity:0.5;" class="column-center-container">
            <view style="font-size:32rpx;color: #FFFFFF;font-weight:500;">自检中</view>
          </view>
        </view>

      </view>

     <!-- 开始自检按钮 -->
     <view wx:if="{{!devChecking && btnFixStatus == 0}}" style="bottom: 48rpx;height: 88rpx;width: 100vw;position: fixed;" class="column-center-container">
          <view bindtap="startCheckAction" style="background: #267AFF;height: 88rpx;width: 550rpx;border-radius: 44rpx;" class="column-center-container">
            <view style="font-size:32rpx;color: #FFFFFF;font-weight:500;">开始自检</view>
          </view>
        </view>
      <view wx:if="{{devChecking && btnFixStatus == 0}}" style="bottom: 48rpx;height: 88rpx;width: 100vw;position: fixed;" class="column-center-container">
          <view style="background: #267AFF;height: 88rpx;width: 550rpx;border-radius: 44rpx;opacity:0.5;" class="column-center-container">
            <view style="font-size:32rpx;color: #FFFFFF;font-weight:500;">自检中</view>
          </view>
      </view>

    </view>

</view>
