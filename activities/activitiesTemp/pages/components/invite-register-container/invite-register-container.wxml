<!-- <import src="../../templates/template.wxml"></import> -->
<wxs src="../../common.wxs" module="c1"></wxs>
<view
  class="common-container bg-normal"
  style="height:{{ props.height }}rpx;background-image:url({{ currentBgSetting.url }});"
>
  <view class="common-main" wx:for="{{ props.basicList }}" wx:key="id" wx:for-item="basicItem">
    <!-- 通用组件：custom : 0
    target:   0、无交互；1、关闭；2、活动内页面；3、分享；4、美的美居；5、链接；6、定制功能；7、弹窗 -->
    <!-- <template is="hotzone" data="{{ basicItem }}"></template> -->
    <view wx:if="{{ basicItem.custom == '0' }}">
      <hotzone
        props="{{ basicItem }}"
        selectContainer="{{ props }}"
        commonData="{{ commonData }}"
        options="{{ options }}"
        bind:actionHotzoneDialog="actionHotzoneDialog"
        bind:actionHotzoneCustom="actionHotzoneCustom"
        bind:actionLaunchAppError="actionLaunchAppError"
        bind:actionLaunchAppSuccess="actionLaunchAppSuccess"
        bind:actionGetHotzonePhonenumber="actionGetHotzonePhonenumber"
        isLogon="{{ isLogon }}"
      ></hotzone>
    </view>
    <view wx:else>
      <!-- 邀请注册
      custom：1、邀请好友助力；2、保存图片到系统相册；3、接受邀请；4、我也要参与；5、获取头像；6、获取昵称，7、面对面邀请；8、邀请记录;9、二维码地址 -->
      <view wx:if="{{ basicItem.custom == '1'}}">
        <!-- 校验步骤是APP版本（在APP内）--登录--活动是否结束--是否需前往美居（美居外）--黑名单--库存 -->
        <button
          hover-class="none"
          data-item="{{ basicItem }}"
          wx:if="{{ !isLogon }}"
          bindtap="actionGetphonenumber"
          class="common-target button-common bg-normal"
          style="{{c1.getBIStyle(basicItem)}}"
        ></button>
        <!-- 活动未开始或已结束 -->
        <button
          hover-class="none"
          wx:elif="{{ commonData.isActNormal == false }}"
          bindtap="actionActStatus"
          data-status="isActNormal"
          class="common-target button-common bg-normal"
          style="{{c1.getBIStyle(basicItem)}}"
        ></button>
        <!-- 用户是否符合参与活动条件 -->
        <button
          hover-class="none"
          wx:elif="{{ commonData.isStatusUser == false }}"
          bindtap="actionActStatus"
          data-status="isStatusUser"
          class="common-target button-common bg-normal"
          style="{{c1.getBIStyle(basicItem)}}"
        ></button>
        <!-- 设置了参与渠道为跳转app -->
        <button
          hover-class="none"
          data-item="{{ basicItem }}"
          bindtap="actionLaunchApp"
          data-loadtype="{{selectGameRule.min}}"
          wx:elif="{{ selectGameRule.needLoad}}"
          class="common-target button-common bg-normal"
          style="{{c1.getBIStyle(basicItem)}}"
        ></button>
        <!-- 黑名单校验 -->
        <button
          hover-class="none"
          wx:elif="{{ commonData.isBlackUser == true }}"
          bindtap="actionActStatus"
          data-status="isBlackUser"
          class="common-target button-common bg-normal"
          style="{{c1.getBIStyle(basicItem)}}"
        ></button>
        <!-- 注销校验 -->
        <button
          hover-class="none"
          wx:elif="{{ commonData.isLogoutUser == true }}"
          bindtap="actionActStatus"
          data-status="isLogoutUser"
          class="common-target button-common bg-normal"
          style="{{c1.getBIStyle(basicItem)}}"
        ></button>
        <button
          hover-class="none"
          wx:elif="{{ isAwardStockNull == true || !init}}"
          data-item="{{ basicItem }}"
          data-selectcontainer="{{ props }}"
          bindtap="actionContainer"
          class="common-target button-common bg-normal"
          style="{{c1.getBIStyle(basicItem)}}"
        ></button>
        <button
          hover-class="none"
          open-type="share"
          wx:else
          data-item="{{ basicItem }}"
          data-selectcontainer="{{ props }}"
          class="common-target button-common bg-normal"
          style="{{c1.getBIStyle(basicItem)}}"
        ></button>
      </view>
      <!-- 面对面邀请 -->
      <view wx:elif="{{ basicItem.custom == '7'}}">
        <!-- 校验步骤是APP版本（在APP内）--登录--活动是否结束--是否需前往美居（美居外）--黑名单--库存 -->
        <button
          hover-class="none"
          wx:if="{{ !isLogon }}"
          data-item="{{ basicItem }}"
          bindtap="actionGetphonenumber"
          class="common-target button-common bg-normal"
          style="{{c1.getBIStyle(basicItem)}}"
        ></button>
        <!-- 活动未开始或已结束 -->
        <button
          hover-class="none"
          wx:elif="{{ commonData.isActNormal == false }}"
          bindtap="actionActStatus"
          data-status="isActNormal"
          class="common-target button-common bg-normal"
          style="{{c1.getBIStyle(basicItem)}}"
        ></button>
        <!-- 用户是否符合参与活动条件 -->
        <button
          hover-class="none"
          wx:elif="{{ commonData.isStatusUser == false }}"
          bindtap="actionActStatus"
          data-status="isStatusUser"
          class="common-target button-common bg-normal"
          style="{{c1.getBIStyle(basicItem)}}"
        ></button>
        <!-- 设置了参与渠道为跳转app -->
        <button
          hover-class="none"
          data-item="{{ basicItem }}"
          bindtap="actionLaunchApp"
          class="common-target button-common bg-normal"
          data-loadtype="{{selectGameRule.min}}"
          wx:elif="{{ selectGameRule.needLoad}}"
          style="{{c1.getBIStyle(basicItem)}}"
        ></button>
        <!-- 黑名单校验 -->
        <button
          hover-class="none"
          wx:elif="{{ commonData.isBlackUser == true}}"
          bindtap="actionActStatus"
          data-status="isBlackUser"
          class="common-target button-common bg-normal"
          style="{{c1.getBIStyle(basicItem)}}"
        ></button>
        <!-- 注销校验 -->
        <button
          hover-class="none"
          wx:elif="{{ commonData.isLogoutUser == true }}"
          bindtap="actionActStatus"
          data-status="isLogoutUser"
          class="common-target button-common bg-normal"
          style="{{c1.getBIStyle(basicItem)}}"
        ></button>
        <button
          hover-class="none"
          wx:else
          data-item="{{ basicItem }}"
          data-selectcontainer="{{ props }}"
          class="common-target button-common bg-normal"
          bindtap="actionContainer"
          style="{{c1.getBIStyle(basicItem)}}"
        ></button>
      </view>
      <!-- 3.接受邀请 -->
      <view wx:elif="{{ basicItem.custom == '3'}}">
        <button
          hover-class="none"
          data-item="{{ basicItem }}"
          wx:if="{{ !isLogon }}"
          bindtap="actionGetphonenumber"
          class="common-target button-common bg-normal"
          style="{{c1.getBIStyle(basicItem)}}"
        ></button>
        <button
          hover-class="none"
          wx:else
          bindtap="acceptEvent"
          disabled="{{joinBtnClicked}}"
          data-item="{{ basicItem }}"
          class="common-target button-common bg-normal"
          style="{{c1.getBIStyle(basicItem)}}"
        ></button>
      </view>
      <!-- 4.我也要参与 -->
      <view wx:elif="{{ basicItem.custom == '4'}}">
        <button
          hover-class="none"
          data-item="{{ basicItem }}"
          wx:if="{{ !isLogon }}"
          bindtap="actionGetphonenumber"
          class="common-target button-common bg-normal"
          style="{{c1.getBIStyle(basicItem)}}"
        ></button>
        <button
          hover-class="none"
          wx:else
          bindtap="iJoinIn"
          data-item="{{ basicItem }}"
          class="common-target button-common bg-normal"
          style="{{c1.getBIStyle(basicItem)}}"
        ></button>
      </view>
      <!-- 邀请列表  basicItem.custom == '4' -->
      <view wx:else>
        <button
          hover-class="none"
          data-item="{{ basicItem }}"
          wx:if="{{ !isLogon }}"
          bindtap="actionGetphonenumber"
          class="common-target button-common bg-normal"
          style="{{c1.getBIStyle(basicItem)}}"
        ></button>
        <view
          wx:else
          class="common-target bg-normal"
          style="{{c1.getBIStyle(basicItem)}}"
          bindtap="actionInvite"
          data-item="{{ basicItem }}"
        ></view>
      </view>
    </view>
  </view>
</view>
